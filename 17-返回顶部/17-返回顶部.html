<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>返回顶部</title>
    <style>
        body{
            text-align: center;
            background-color: #e8e8e8;
        }
        #retop{
            width: 43px;
            height: 43px;
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: none;
            background: url("images/top.png") no-repeat;
            background-size: 100% 100%;
        }
    </style>
</head>
<body>
<div id="retop"></div>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<p>返回顶部</p>
<script>
    window.onload=function(){
           //监听窗口滚动
        var end=0;
        var timer;
        var begin=0;
        window.onscroll=function(){
            //获取滚动高度
            var scrollTop=scroll().top;
            begin=scrollTop;
            //显示和隐藏
            if(scrollTop>0){
                $('retop').style.display='block';
            }else{
                $('retop').style.display='';}
        }
        //监听点击
        $('retop').onclick=function () {

            //清除定时器
             clearInterval(timer);
            //设置定时器
            timer=setInterval(function () {
                begin=begin+(end-begin)*0.2;
                window.scrollTo(0,begin);
                //清除定时器
                if(Math.round(begin)===end){
                    clearInterval(timer);
                }
            },20)
        }
    }

    //封装函数
    function scroll() {
        if (window.pageYOffset !== null) {
            return {
                top: window.pageYOffset,
                left: window.pageXOffset
            }
        } else if (document.compatMode === "CSS1Compat") { // W3C
            return {
                top: document.documentElement.scrollTop,
                left: document.documentElement.scrollLeft
            }
        }

        return {
            top: document.body.scrollTop,
            left: document.body.scrollLeft
        }
    }
    function $(id) {
            return typeof id === "string" ? document.getElementById(id) : null;
        }
</script>
</body>
</html>